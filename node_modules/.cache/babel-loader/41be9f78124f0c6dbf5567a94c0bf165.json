{"ast":null,"code":"/*\n * Convert numbers to gematriya representation, and vice-versa.\n *\n * Licensed MIT.\n *\n * Copyright (c) 2014 Eyal Schachter\n\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n(function () {\n  var letters = {},\n      numbers = {\n    '': 0,\n    א: 1,\n    ב: 2,\n    ג: 3,\n    ד: 4,\n    ה: 5,\n    ו: 6,\n    ז: 7,\n    ח: 8,\n    ט: 9,\n    י: 10,\n    כ: 20,\n    ל: 30,\n    מ: 40,\n    נ: 50,\n    ס: 60,\n    ע: 70,\n    פ: 80,\n    צ: 90,\n    ק: 100,\n    ר: 200,\n    ש: 300,\n    ת: 400,\n    תק: 500,\n    תר: 600,\n    תש: 700,\n    תת: 800,\n    תתק: 900,\n    תתר: 1000\n  },\n      i;\n\n  for (i in numbers) {\n    letters[numbers[i]] = i;\n  }\n\n  function gematriya(num, limit) {\n    if (typeof num !== 'number' && typeof num !== 'string') {\n      throw new TypeError('non-number or string given to gematriya()');\n    }\n\n    var str = typeof num === 'string';\n\n    if (str) {\n      num = num.replace(/('|\")/g, '');\n    }\n\n    num = num.toString().split('').reverse();\n\n    if (!str && limit) {\n      num = num.slice(0, limit);\n    }\n\n    num = num.map(function g(n, i) {\n      if (str) {\n        return limit && numbers[n] < numbers[num[i - 1]] && numbers[n] < 100 ? numbers[n] * 1000 : numbers[n];\n      } else {\n        if (parseInt(n, 10) * Math.pow(10, i) > 1000) {\n          return g(n, i - 3);\n        }\n\n        return letters[parseInt(n, 10) * Math.pow(10, i)];\n      }\n    });\n\n    if (str) {\n      return num.reduce(function (o, t) {\n        return o + t;\n      }, 0);\n    } else {\n      num = num.reverse().join('').replace(/יה/g, 'טו').replace(/יו/g, 'טז').split('');\n\n      if (num.length === 1) {\n        num.push(\"'\");\n      } else if (num.length > 1) {\n        num.splice(-1, 0, '\"');\n      }\n\n      return num.join('');\n    }\n  }\n\n  if (typeof module !== 'undefined') {\n    module.exports = gematriya;\n  } else {\n    window.gematriya = gematriya;\n  }\n})();","map":null,"metadata":{},"sourceType":"script"}